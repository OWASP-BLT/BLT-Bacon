<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Solana Integration Guide for BACON - Using SPL Token Standard">
    <title>Solana Integration - BACON</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="hero" style="min-height: 40vh;">
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo"><a href="index.html" style="color: inherit; text-decoration: none;">ðŸ¥“ BACON</a></div>
                <ul class="nav-menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="getting-started.html">Getting Started</a></li>
                    <li><a href="api-reference.html">API Reference</a></li>
                    <li><a href="bitcoin-integration.html">Bitcoin</a></li>
                    <li><a href="solana-integration.html">Solana</a></li>
                    <li><a href="https://github.com/OWASP-BLT/BLT-Bacon" target="_blank">GitHub</a></li>
                </ul>
            </div>
        </nav>
        <div class="hero-content">
            <h1>â—Ž Solana Integration</h1>
            <p class="tagline">High-Speed Rewards with SPL Tokens</p>
        </div>
    </header>

    <main>
        <section class="section">
            <div class="container">
                <h2>Why Solana for BACON?</h2>
                <div class="feature-detail">
                    <p>Solana is a high-performance blockchain that offers exceptional speed and low transaction costs, making it ideal for frequent reward distributions and micro-transactions in the BACON ecosystem.</p>
                    
                    <h3>Key Advantages</h3>
                    <ul>
                        <li><strong>Ultra-Fast:</strong> Process 65,000+ transactions per second</li>
                        <li><strong>Low Costs:</strong> Transaction fees average $0.00025</li>
                        <li><strong>SPL Tokens:</strong> Native token standard with rich functionality</li>
                        <li><strong>Developer-Friendly:</strong> Excellent tooling and documentation</li>
                        <li><strong>Scalable:</strong> No compromise on decentralization</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="section section-alt">
            <div class="container">
                <h2>Setting Up Solana</h2>
                
                <div class="feature-detail">
                    <h3>Install Solana CLI</h3>
                    <div class="code-block">
<pre># Install Solana CLI tools
sh -c "$(curl -sSfL https://release.solana.com/stable/install)"

# Verify installation
solana --version

# Set cluster (mainnet-beta, devnet, or testnet)
solana config set --url https://api.mainnet-beta.solana.com</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>Create Solana Wallet</h3>
                    <div class="code-block">
<pre># Generate new keypair
solana-keygen new --outfile ~/.config/solana/bacon-wallet.json

# Check wallet address
solana address

# Check balance
solana balance

# Airdrop SOL (devnet/testnet only)
solana airdrop 2</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>Install SPL Token CLI</h3>
                    <div class="code-block">
<pre># Install SPL Token program
cargo install spl-token-cli

# Verify installation
spl-token --version</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <h2>Creating BACON SPL Token</h2>
                
                <div class="integration-steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h3>Create Token</h3>
                            <p>Create your BACON SPL token on Solana:</p>
                            <div class="code-block">
<pre># Create token with 8 decimals
spl-token create-token --decimals 8

# Save the token address (mint address)
# Example: 7vfCXTUXx5WJV5JADk17DUJ4ksgau7utNKj4b963voxs

# Create token account
spl-token create-account TOKEN_ADDRESS

# Check token accounts
spl-token accounts</pre>
                            </div>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h3>Mint Initial Supply</h3>
                            <p>Mint BACON tokens to your treasury:</p>
                            <div class="code-block">
<pre># Mint 21 million BACON tokens
spl-token mint TOKEN_ADDRESS 21000000

# Check supply
spl-token supply TOKEN_ADDRESS

# Check balance
spl-token balance TOKEN_ADDRESS</pre>
                            </div>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h3>Configure Token Metadata</h3>
                            <p>Add metadata for your token (name, symbol, logo):</p>
                            <div class="code-block">
<pre>const { createMetadata } = require('@metaplex-foundation/mpl-token-metadata');

await createMetadata({
  mint: tokenAddress,
  metadata: {
    name: 'BACON',
    symbol: 'BACON',
    uri: 'https://blt-bacon.github.io/metadata.json',
    sellerFeeBasisPoints: 0,
    creators: null,
    collection: null,
    uses: null
  }
});</pre>
                            </div>
                        </div>
                    </div>

                    <div class="step">
                        <div class="step-number">4</div>
                        <div class="step-content">
                            <h3>Initialize BACON SDK</h3>
                            <p>Connect BACON SDK to Solana:</p>
                            <div class="code-block">
<pre>const BaconSDK = require('@blt-bacon/sdk');

const bacon = new BaconSDK({
  blockchain: 'solana',
  network: 'mainnet-beta',
  cluster: 'https://api.mainnet-beta.solana.com',
  wallet: {
    privateKey: process.env.SOLANA_PRIVATE_KEY,
    publicKey: process.env.SOLANA_PUBLIC_KEY
  },
  token: {
    mint: process.env.SPL_TOKEN_MINT,
    decimals: 8
  }
});</pre>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-alt">
            <div class="container">
                <h2>Distributing Rewards</h2>
                
                <div class="feature-detail">
                    <h3>Single Transfer</h3>
                    <div class="code-block">
<pre>// Transfer BACON tokens to contributor
await bacon.transfer({
  to: 'ContributorSolanaAddress',
  amount: 100,
  memo: 'Reward for PR #123'
});

// Using SPL Token CLI
spl-token transfer TOKEN_ADDRESS 100 RECIPIENT_ADDRESS</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>Batch Transfers</h3>
                    <div class="code-block">
<pre>// Batch transfer to multiple recipients
await bacon.batchTransfer({
  transfers: [
    { to: 'Address1', amount: 50, memo: 'Issue #101' },
    { to: 'Address2', amount: 75, memo: 'PR #102' },
    { to: 'Address3', amount: 100, memo: 'Bug fix #103' }
  ]
});

// This creates one transaction with multiple instructions
// Much more efficient than individual transfers</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>Automated Rewards via Webhooks</h3>
                    <div class="code-block">
<pre>const express = require('express');
const app = express();

app.post('/webhook/github', async (req, res) => {
  const event = req.body;
  
  if (event.action === 'opened' && event.issue) {
    // Reward issue reporter
    await bacon.reward({
      user: event.issue.user.login,
      amount: 10,
      reason: `Issue #${event.issue.number}`
    });
  }
  
  if (event.action === 'closed' && event.pull_request?.merged) {
    // Reward PR merger
    await bacon.reward({
      user: event.pull_request.user.login,
      amount: 50,
      reason: `PR #${event.pull_request.number}`
    });
  }
  
  res.sendStatus(200);
});</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <h2>Advanced Features</h2>
                
                <div class="feature-detail">
                    <h3>Associated Token Accounts</h3>
                    <p>Automatically create token accounts for recipients:</p>
                    <div class="code-block">
<pre>const { getOrCreateAssociatedTokenAccount } = require('@solana/spl-token');

// Create associated token account if it doesn't exist
const recipientTokenAccount = await getOrCreateAssociatedTokenAccount(
  connection,
  payer,
  tokenMint,
  recipientPublicKey
);

// Now transfer to this account
await bacon.transfer({
  to: recipientTokenAccount.address,
  amount: 100
});</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>Token Vesting</h3>
                    <p>Implement vesting schedules for long-term rewards:</p>
                    <div class="code-block">
<pre>const { createVestingSchedule } = require('@blt-bacon/vesting');

// Create vesting schedule for core contributor
await createVestingSchedule({
  recipient: contributorAddress,
  amount: 10000,
  startTime: Date.now(),
  duration: 365 * 24 * 60 * 60, // 1 year in seconds
  cliff: 90 * 24 * 60 * 60, // 90 day cliff
  slices: 12 // Monthly releases
});</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>Staking Rewards</h3>
                    <p>Allow users to stake BACON for additional rewards:</p>
                    <div class="code-block">
<pre>// Initialize staking pool
const stakingPool = await bacon.createStakingPool({
  rewardRate: 0.1, // 10% APY
  minStake: 100,
  lockPeriod: 30 * 24 * 60 * 60 // 30 days
});

// User stakes tokens
await bacon.stake({
  amount: 1000,
  pool: stakingPool.address
});

// Claim rewards
await bacon.claimStakingRewards();</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>Multi-Signature Treasury</h3>
                    <p>Secure treasury with multi-sig:</p>
                    <div class="code-block">
<pre>const { createMultisig } = require('@sqds/sdk');

// Create 2-of-3 multisig for treasury
const multisig = await createMultisig({
  threshold: 2,
  owners: [ownerKey1, ownerKey2, ownerKey3],
  name: 'BACON Treasury'
});

// Propose transaction
await multisig.proposeTransaction({
  instructions: [transferInstruction]
});

// Approve and execute (requires 2 signatures)
await multisig.approveTransaction(txId);
await multisig.executeTransaction(txId);</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-alt">
            <div class="container">
                <h2>Performance Optimization</h2>
                
                <div class="use-cases">
                    <div class="use-case">
                        <h3>ðŸš€ Transaction Optimization</h3>
                        <ul>
                            <li>Batch multiple operations in single transaction</li>
                            <li>Use compute unit price for priority</li>
                            <li>Implement transaction retry logic</li>
                            <li>Monitor and adjust compute budget</li>
                        </ul>
                    </div>
                    
                    <div class="use-case">
                        <h3>ðŸ’° Cost Management</h3>
                        <ul>
                            <li>Optimize compute units per instruction</li>
                            <li>Use versioned transactions for efficiency</li>
                            <li>Implement account data compression</li>
                            <li>Monitor and track transaction costs</li>
                        </ul>
                    </div>
                    
                    <div class="use-case">
                        <h3>âš¡ Speed Enhancement</h3>
                        <ul>
                            <li>Use WebSocket connections for real-time updates</li>
                            <li>Implement transaction preflight checks</li>
                            <li>Cache account data when possible</li>
                            <li>Use GetProgramAccounts filters</li>
                        </ul>
                    </div>
                    
                    <div class="use-case">
                        <h3>ðŸ”§ Error Handling</h3>
                        <ul>
                            <li>Implement exponential backoff</li>
                            <li>Handle blockhash expiration</li>
                            <li>Monitor for transaction failures</li>
                            <li>Implement automatic recovery</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <h2>RPC Endpoint Configuration</h2>
                
                <div class="feature-detail">
                    <h3>Public RPC Endpoints</h3>
                    <div class="code-block">
<pre>// Mainnet Beta
https://api.mainnet-beta.solana.com

// Devnet
https://api.devnet.solana.com

// Testnet
https://api.testnet.solana.com</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>Private RPC Services (Recommended for Production)</h3>
                    <div class="code-block">
<pre>// QuickNode
const connection = new Connection(
  'https://your-endpoint.solana-mainnet.quiknode.pro/YOUR_KEY/'
);

// Alchemy
const connection = new Connection(
  'https://solana-mainnet.g.alchemy.com/v2/YOUR_KEY'
);

// GenesysGo
const connection = new Connection(
  'https://ssc-dao.genesysgo.net/'
);</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>Connection Configuration</h3>
                    <div class="code-block">
<pre>const { Connection, ConnectionConfig } = require('@solana/web3.js');

const config = {
  commitment: 'confirmed',
  confirmTransactionInitialTimeout: 60000,
  disableRetryOnRateLimit: false,
  httpHeaders: {
    'Content-Type': 'application/json'
  }
};

const connection = new Connection(
  process.env.SOLANA_RPC_URL,
  config
);</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-alt">
            <div class="container">
                <h2>Monitoring and Analytics</h2>
                
                <div class="feature-detail">
                    <h3>Track Token Metrics</h3>
                    <div class="code-block">
<pre>// Get token supply
const supply = await connection.getTokenSupply(tokenMint);

// Get largest token holders
const largestAccounts = await connection.getTokenLargestAccounts(tokenMint);

// Get account token balance
const balance = await connection.getTokenAccountBalance(accountAddress);

// Get all token accounts for a wallet
const accounts = await connection.getParsedTokenAccountsByOwner(
  walletAddress,
  { mint: tokenMint }
);</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>Transaction History</h3>
                    <div class="code-block">
<pre>// Get signatures for address
const signatures = await connection.getSignaturesForAddress(
  walletAddress,
  { limit: 100 }
);

// Get transaction details
const tx = await connection.getTransaction(signature, {
  maxSupportedTransactionVersion: 0
});

// Parse transaction for token transfers
const transfers = parseTokenTransfers(tx);</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container center">
                <h2>Ready to Use Solana?</h2>
                <p class="lead">Start distributing fast, low-cost rewards with Solana</p>
                <div class="cta-buttons">
                    <a href="getting-started.html" class="btn btn-primary">Get Started</a>
                    <a href="api-reference.html" class="btn btn-secondary">View API Reference</a>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>BACON</h4>
                    <p>Blockchain Assisted Contribution Network</p>
                </div>
                <div class="footer-section">
                    <h4>Documentation</h4>
                    <ul>
                        <li><a href="getting-started.html">Getting Started</a></li>
                        <li><a href="api-reference.html">API Reference</a></li>
                        <li><a href="bitcoin-integration.html">Bitcoin</a></li>
                        <li><a href="solana-integration.html">Solana</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 OWASP BLT Project. Licensed under Apache 2.0.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
