<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="BACON SDK API Reference - Complete documentation for developers">
    <title>API Reference - BACON</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header class="hero" style="min-height: 40vh;">
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo"><a href="index.html" style="color: inherit; text-decoration: none;">ðŸ¥“ BACON</a></div>
                <ul class="nav-menu">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="getting-started.html">Getting Started</a></li>
                    <li><a href="api-reference.html">API Reference</a></li>
                    <li><a href="bitcoin-integration.html">Bitcoin</a></li>
                    <li><a href="solana-integration.html">Solana</a></li>
                    <li><a href="https://github.com/OWASP-BLT/BLT-Bacon" target="_blank">GitHub</a></li>
                </ul>
            </div>
        </nav>
        <div class="hero-content">
            <h1>ðŸ“š API Reference</h1>
            <p class="tagline">Complete SDK Documentation for BACON Integration</p>
        </div>
    </header>

    <main>
        <section class="section">
            <div class="container">
                <h2>BaconSDK Class</h2>
                
                <div class="feature-detail">
                    <h3>Constructor</h3>
                    <div class="code-block">
<pre>new BaconSDK(config: BaconConfig)</pre>
                    </div>
                    <p>Creates a new instance of the BACON SDK.</p>
                    
                    <h4>Parameters:</h4>
                    <ul>
                        <li><code>config</code> (BaconConfig): Configuration object</li>
                    </ul>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>const bacon = new BaconSDK({
  blockchain: 'bitcoin',
  network: 'mainnet',
  wallet: {
    privateKey: process.env.PRIVATE_KEY
  }
});</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-alt">
            <div class="container">
                <h2>Configuration</h2>
                
                <div class="feature-detail">
                    <h3>BaconConfig Interface</h3>
                    <div class="code-block">
<pre>interface BaconConfig {
  blockchain: 'bitcoin' | 'solana';
  network: 'mainnet' | 'testnet' | 'devnet' | 'mainnet-beta';
  wallet?: WalletConfig;
  rewards?: RewardConfig;
  rpc?: RPCConfig;
  github?: GitHubConfig;
}</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>WalletConfig Interface</h3>
                    <div class="code-block">
<pre>interface WalletConfig {
  privateKey?: string;
  publicKey?: string;
  address?: string;
  mnemonic?: string;
}</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>RewardConfig Interface</h3>
                    <div class="code-block">
<pre>interface RewardConfig {
  issueOpened?: number;
  issueResolved?: number;
  pullRequestMerged?: number;
  codeReview?: number;
  commitPushed?: number;
  releasePublished?: number;
  [key: string]: number;
}</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <h2>Core Methods</h2>
                
                <div class="feature-detail">
                    <h3>initialize()</h3>
                    <div class="code-block">
<pre>async initialize(): Promise&lt;void&gt;</pre>
                    </div>
                    <p>Initializes the SDK and connects to the blockchain network.</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>await bacon.initialize();</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>reward()</h3>
                    <div class="code-block">
<pre>async reward(recipient: string, amount: number, memo?: string): Promise&lt;Transaction&gt;</pre>
                    </div>
                    <p>Sends BACON tokens as a reward to a recipient.</p>
                    
                    <h4>Parameters:</h4>
                    <ul>
                        <li><code>recipient</code> (string): Wallet address or GitHub username</li>
                        <li><code>amount</code> (number): Amount of BACON tokens to send</li>
                        <li><code>memo</code> (string, optional): Transaction memo</li>
                    </ul>
                    
                    <h4>Returns:</h4>
                    <p>Promise that resolves to a Transaction object.</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>const tx = await bacon.reward('alice', 100, 'Bug fix reward');
console.log(`Transaction ID: ${tx.id}`);</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>batchReward()</h3>
                    <div class="code-block">
<pre>async batchReward(rewards: Reward[]): Promise&lt;Transaction&gt;</pre>
                    </div>
                    <p>Sends rewards to multiple recipients in a single transaction.</p>
                    
                    <h4>Parameters:</h4>
                    <ul>
                        <li><code>rewards</code> (Reward[]): Array of reward objects</li>
                    </ul>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>await bacon.batchReward([
  { recipient: 'alice', amount: 50 },
  { recipient: 'bob', amount: 75 },
  { recipient: 'charlie', amount: 100 }
]);</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>getBalance()</h3>
                    <div class="code-block">
<pre>async getBalance(address: string): Promise&lt;number&gt;</pre>
                    </div>
                    <p>Gets the BACON token balance for an address.</p>
                    
                    <h4>Parameters:</h4>
                    <ul>
                        <li><code>address</code> (string): Wallet address to check</li>
                    </ul>
                    
                    <h4>Returns:</h4>
                    <p>Promise that resolves to the balance as a number.</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>const balance = await bacon.getBalance('wallet_address');
console.log(`Balance: ${balance} BACON`);</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>getTransaction()</h3>
                    <div class="code-block">
<pre>async getTransaction(txId: string): Promise&lt;Transaction&gt;</pre>
                    </div>
                    <p>Gets details of a specific transaction.</p>
                    
                    <h4>Parameters:</h4>
                    <ul>
                        <li><code>txId</code> (string): Transaction ID</li>
                    </ul>
                    
                    <h4>Returns:</h4>
                    <p>Promise that resolves to a Transaction object.</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>const tx = await bacon.getTransaction('tx_id');
console.log(`Status: ${tx.status}`);</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-alt">
            <div class="container">
                <h2>GitHub Integration</h2>
                
                <div class="feature-detail">
                    <h3>connectGitHub()</h3>
                    <div class="code-block">
<pre>async connectGitHub(config: GitHubConfig): Promise&lt;void&gt;</pre>
                    </div>
                    <p>Connects to GitHub webhooks for automatic reward distribution.</p>
                    
                    <h4>Parameters:</h4>
                    <ul>
                        <li><code>config</code> (GitHubConfig): GitHub configuration object</li>
                    </ul>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>await bacon.connectGitHub({
  repository: 'owner/repo',
  token: process.env.GITHUB_TOKEN,
  webhookSecret: process.env.WEBHOOK_SECRET
});</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>on()</h3>
                    <div class="code-block">
<pre>on(event: string, handler: EventHandler): void</pre>
                    </div>
                    <p>Registers an event handler for GitHub events.</p>
                    
                    <h4>Supported Events:</h4>
                    <ul>
                        <li><code>issue.opened</code></li>
                        <li><code>issue.closed</code></li>
                        <li><code>pull_request.opened</code></li>
                        <li><code>pull_request.merged</code></li>
                        <li><code>pull_request.reviewed</code></li>
                        <li><code>release.published</code></li>
                    </ul>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>bacon.on('issue.opened', async (event) => {
  await bacon.reward(event.user, 10);
});

bacon.on('pull_request.merged', async (event) => {
  await bacon.reward(event.user, 50);
});</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>start()</h3>
                    <div class="code-block">
<pre>start(options?: ServerOptions): void</pre>
                    </div>
                    <p>Starts the webhook server to listen for GitHub events.</p>
                    
                    <h4>Parameters:</h4>
                    <ul>
                        <li><code>options</code> (ServerOptions, optional): Server configuration</li>
                    </ul>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>bacon.start({ 
  port: 3000,
  path: '/webhook'
});</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <h2>Token Management</h2>
                
                <div class="feature-detail">
                    <h3>createToken()</h3>
                    <div class="code-block">
<pre>async createToken(params: TokenParams): Promise&lt;string&gt;</pre>
                    </div>
                    <p>Creates a new BACON token on the blockchain.</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>const tokenId = await bacon.createToken({
  name: 'BACON',
  symbol: 'BACON',
  decimals: 8,
  supply: 21000000
});</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>mint()</h3>
                    <div class="code-block">
<pre>async mint(amount: number, destination: string): Promise&lt;Transaction&gt;</pre>
                    </div>
                    <p>Mints new BACON tokens (requires mint authority).</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>await bacon.mint(1000000, treasuryAddress);</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>burn()</h3>
                    <div class="code-block">
<pre>async burn(amount: number): Promise&lt;Transaction&gt;</pre>
                    </div>
                    <p>Burns BACON tokens from the connected wallet.</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>await bacon.burn(100);</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>getSupply()</h3>
                    <div class="code-block">
<pre>async getSupply(): Promise&lt;TokenSupply&gt;</pre>
                    </div>
                    <p>Gets the current token supply information.</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>const supply = await bacon.getSupply();
console.log(`Total: ${supply.total}, Circulating: ${supply.circulating}`);</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-alt">
            <div class="container">
                <h2>User Management</h2>
                
                <div class="feature-detail">
                    <h3>registerUser()</h3>
                    <div class="code-block">
<pre>async registerUser(github: string, wallet: string): Promise&lt;User&gt;</pre>
                    </div>
                    <p>Links a GitHub username to a wallet address.</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>await bacon.registerUser('alice', 'wallet_address');</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>getUser()</h3>
                    <div class="code-block">
<pre>async getUser(identifier: string): Promise&lt;User&gt;</pre>
                    </div>
                    <p>Gets user information by GitHub username or wallet address.</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>const user = await bacon.getUser('alice');
console.log(`Wallet: ${user.wallet}, Balance: ${user.balance}`);</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>getLeaderboard()</h3>
                    <div class="code-block">
<pre>async getLeaderboard(limit?: number): Promise&lt;User[]&gt;</pre>
                    </div>
                    <p>Gets the top contributors by BACON balance.</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>const top10 = await bacon.getLeaderboard(10);
top10.forEach((user, i) => {
  console.log(`${i + 1}. ${user.github}: ${user.balance} BACON`);
});</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <h2>Analytics & Reporting</h2>
                
                <div class="feature-detail">
                    <h3>getStats()</h3>
                    <div class="code-block">
<pre>async getStats(): Promise&lt;Statistics&gt;</pre>
                    </div>
                    <p>Gets overall BACON ecosystem statistics.</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>const stats = await bacon.getStats();
console.log(`
  Total Rewards: ${stats.totalRewards}
  Active Users: ${stats.activeUsers}
  Transactions: ${stats.transactions}
`);</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>getTransactionHistory()</h3>
                    <div class="code-block">
<pre>async getTransactionHistory(address: string, options?: HistoryOptions): Promise&lt;Transaction[]&gt;</pre>
                    </div>
                    <p>Gets transaction history for an address.</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>const history = await bacon.getTransactionHistory('address', {
  limit: 50,
  offset: 0,
  type: 'reward'
});</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>exportReport()</h3>
                    <div class="code-block">
<pre>async exportReport(format: 'json' | 'csv', options?: ReportOptions): Promise&lt;string&gt;</pre>
                    </div>
                    <p>Exports reward distribution report.</p>
                    
                    <h4>Example:</h4>
                    <div class="code-block">
<pre>const report = await bacon.exportReport('csv', {
  startDate: '2024-01-01',
  endDate: '2024-12-31'
});</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-alt">
            <div class="container">
                <h2>Error Handling</h2>
                
                <div class="feature-detail">
                    <h3>Error Types</h3>
                    <div class="code-block">
<pre>class BaconError extends Error {
  code: string;
  details?: any;
}

// Common error codes:
// - INSUFFICIENT_BALANCE
// - INVALID_ADDRESS
// - TRANSACTION_FAILED
// - NETWORK_ERROR
// - UNAUTHORIZED</pre>
                    </div>
                </div>

                <div class="feature-detail">
                    <h3>Error Handling Example</h3>
                    <div class="code-block">
<pre>try {
  await bacon.reward('alice', 1000000);
} catch (error) {
  if (error.code === 'INSUFFICIENT_BALANCE') {
    console.error('Not enough tokens in treasury');
  } else if (error.code === 'INVALID_ADDRESS') {
    console.error('Invalid recipient address');
  } else {
    console.error('Unknown error:', error);
  }
}</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <h2>Events</h2>
                
                <div class="feature-detail">
                    <h3>Event Emitter</h3>
                    <p>The BACON SDK emits various events that you can listen to:</p>
                    
                    <div class="code-block">
<pre>// Transaction events
bacon.on('transaction:pending', (tx) => {
  console.log('Transaction pending:', tx.id);
});

bacon.on('transaction:confirmed', (tx) => {
  console.log('Transaction confirmed:', tx.id);
});

bacon.on('transaction:failed', (tx, error) => {
  console.error('Transaction failed:', error);
});

// Reward events
bacon.on('reward:sent', (reward) => {
  console.log(`Sent ${reward.amount} to ${reward.recipient}`);
});

// Error events
bacon.on('error', (error) => {
  console.error('SDK error:', error);
});</pre>
                    </div>
                </div>
            </div>
        </section>

        <section class="section section-alt">
            <div class="container center">
                <h2>Need More Information?</h2>
                <p class="lead">Check out our guides and examples</p>
                <div class="cta-buttons">
                    <a href="getting-started.html" class="btn btn-primary">Getting Started</a>
                    <a href="https://github.com/OWASP-BLT/BLT-Bacon/tree/main/examples" class="btn btn-secondary">View Examples</a>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4>BACON</h4>
                    <p>Blockchain Assisted Contribution Network</p>
                </div>
                <div class="footer-section">
                    <h4>Documentation</h4>
                    <ul>
                        <li><a href="getting-started.html">Getting Started</a></li>
                        <li><a href="api-reference.html">API Reference</a></li>
                        <li><a href="bitcoin-integration.html">Bitcoin</a></li>
                        <li><a href="solana-integration.html">Solana</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 OWASP BLT Project. Licensed under Apache 2.0.</p>
            </div>
        </div>
    </footer>

    <script src="script.js"></script>
</body>
</html>
